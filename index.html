<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Lucky Spin Wheel</title>
    <link rel="stylesheet" href="./style.css">
  </head>

  <body>
  <div class="bg" id="bgLayer"></div>

<div class="page">
  <div class="topbar">
    <div class="brand">
      <h1>ğŸ¡ Lucky Spin Wheel</h1>
      <p>Luxury â€¢ Prize Turn â€¢ Member No-Repeat â€¢ Telegram Contact</p>
    </div>

    <div class="top-actions">
      <button class="btn icon" id="settingsBtn" title="Settings">âš™ï¸</button>
      <button class="btn" id="musicBtn" title="Background Music">ğŸµ Music: OFF</button>
    </div>
  </div>

  <!-- Top Banner -->
  <div class="banner-img">
    <img id="topBannerImg" alt="Top Banner" style="display:none;">
    <div id="topBannerFallback" class="banner-fallback">
      Top Banner (Settings á€‘á€²á€€á€”á€± Upload á€‘á€Šá€·á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€º)
    </div>
  </div>

  <div class="main">
    <div class="wheel-card">
      <div class="wheel-wrap" id="wheelWrap">
        <div class="pointer"></div>
        <canvas id="wheel" width="520" height="520"></canvas>
        <button id="spinBtn" class="spin-btn">SPIN</button>
      </div>

      <div class="info-row">
        <div class="label">NEXT PRIZE</div>
        <div id="nextPrizeText">-</div>
      </div>

      <div class="info-row">
        <div class="label">POOL</div>
        <div id="poolText">-</div>
      </div>

      <div class="actions">
        <button class="btn" id="restartSpinBtn">Restart Spin</button>
        <button class="btn" id="membersBtn">Members</button>
        <button class="btn" id="historyBtn">Winner History</button>
      </div>

      <!-- Members Panel -->
      <div id="membersPanel" class="panel hidden">
        <div class="panel-head">
          <div class="panel-title" id="membersPanelTitle">Telegram Member List</div>
          <button class="btn mini" id="membersCloseBtn">Close</button>
        </div>
        <div class="panel-body" id="membersTable"></div>
      </div>

      <!-- History Panel -->
      <div id="historyPanel" class="panel hidden">
        <div class="panel-head">
          <div class="panel-title">Winner History</div>
          <button class="btn mini" id="historyCloseBtn">Close</button>
        </div>
        <div class="panel-body" id="historyList"></div>
      </div>
    </div>
  </div>

  <!-- Bottom Banner -->
  <div class="banner-img">
    <img id="bottomBannerImg" alt="Bottom Banner" style="display:none;">
    <div id="bottomBannerFallback" class="banner-fallback">
      Bottom Banner (Settings á€‘á€²á€€á€”á€± Upload á€‘á€Šá€·á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€º)
    </div>
  </div>
</div>

<!-- âœ… Winner Popup Modal -->
<div id="winnerOverlay" class="winner-overlay hidden">
  <div id="winnerCard" class="winner-popup">
    <div class="winner-top">
      <div class="winner-title" id="winnerPrizeTitle">-</div>
      <button class="btn mini" id="winnerCloseBtn">Close</button>
    </div>

    <div class="winner-name" id="winnerNameText">-</div>

    <div class="winner-actions">
      <button class="btn primary" id="contactBtn">Telegram</button>
      <button class="btn" id="noticeBtn">Notice</button>
    </div>

    <div class="small" id="winnerHint" style="margin-top:8px;"></div>
  </div>
</div>

<!-- Settings Drawer -->
<div class="drawer" id="drawer">
  <div class="drawer-head">
    <h2>âš™ï¸ Settings</h2>
    <button class="btn icon" id="closeSettingsBtn" title="Close">âœ–ï¸</button>
  </div>

  <div class="field">
    <label>Render API</label>
    <input id="apiBaseInput" type="text" placeholder="https://lucky77-wheel-bot.onrender.com">
    <small class="small">Render URL á€€á€­á€¯ áá€á€«á€•á€²á€‘á€Šá€·á€ºá€•á€¼á€®á€¸ Save á€œá€¯á€•á€ºá€•á€«</small>
  </div>

  <div class="field">
    <label>API Key</label>
    <input id="apiKeyInput" type="text" placeholder="Lucky77_luckywheel_77">
  </div>

  <div class="field">
    <label>Prize List + Prize Turn (Stepper)</label>
    <div id="prizeBuilder"></div>
    <div class="small" style="margin-top:6px;">
      âœ… Prize + time á€€á€­á€¯ stepper á€”á€²á€·á€á€»á€­á€”á€ºá€•á€¼á€®á€¸ Save á€œá€¯á€•á€ºá€á€¬á€”á€²á€· Render á€‘á€²á€€á€­á€¯á€œá€Šá€ºá€¸á€á€­á€™á€ºá€¸á€™á€šá€º
    </div>
  </div>

  <div class="field">
    <label>UI Color (default = white)</label>
    <input id="uiColorInput" type="color" value="#ffffff" />
    <small class="small">Border / panel / button á€á€½á€± color á€á€»á€­á€á€ºá€‘á€¬á€¸á€•á€¼á€®á€¸á€á€¬á€¸</small>
  </div>

  <div class="field">
    <label>Spin Accent Color</label>
    <input id="wheelAccentInput" type="color" value="#d6b25e" />
  </div>

  <div class="field">
    <label>Spin Slice Colors (Optional)</label>
    <textarea id="wheelColorsInput" rows="4" placeholder="#ffffff
#f1f5ff
#fff4d6
#e9eefc"></textarea>
    <small class="small">á€œá€­á€¯á€„á€ºá€¸á€á€…á€ºá€œá€­á€¯á€„á€ºá€¸ = color áá€á€¯ (á€™á€•á€¼á€Šá€·á€ºá€œá€Šá€ºá€¸ loop á€œá€¯á€•á€ºá€™á€šá€º)</small>
  </div>

  <div class="field">
    <label>Page Background Image (Upload)</label>
    <input id="pageBgFile" type="file" accept="image/*" />
  </div>

  <div class="field">
    <label>Spin Border Background Image (Upload)</label>
    <input id="wheelBgFile" type="file" accept="image/*" />
  </div>

  <div class="field">
    <label>Top Banner Image (Upload)</label>
    <input id="topBannerFile" type="file" accept="image/*" />
  </div>

  <div class="field">
    <label>Bottom Banner Image (Upload)</label>
    <input id="bottomBannerFile" type="file" accept="image/*" />
  </div>

  <div class="field">
    <label>Background Song MP3 (Upload)</label>
    <input id="bgSongFile" type="file" accept="audio/*" />
  </div>

  <div class="field">
    <label>Member List (Preview)</label>
    <button class="btn" id="refreshMembersInSettingsBtn">Refresh Members</button>
    <div id="membersInSettings" class="small" style="margin-top:8px; max-height:220px; overflow:auto;"></div>
  </div>

  <div class="drawer-actions">
    <button class="btn" id="resetBtn">Reset</button>
    <button class="btn primary" id="saveBtn">Save</button>
  </div>

  <p class="hint">
    âš ï¸ Banner/MP3 Upload á€á€½á€±á€€ refresh á€œá€¯á€•á€ºá€›á€„á€º á€•á€¼á€”á€ºá€›á€½á€±á€¸á€›á€”á€­á€¯á€„á€ºá€•á€«á€á€šá€º (browser security). <br>
    âœ… Prize/Color/Image settings á€á€½á€±á€€ LocalStorage á€‘á€²á€™á€¾á€¬á€á€­á€™á€ºá€¸á€‘á€¬á€¸á€•á€«á€á€šá€ºá‹
  </p>
</div>

<script src="./script.js"></script>
</body>
</html>